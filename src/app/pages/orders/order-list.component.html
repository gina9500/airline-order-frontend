<div class="order-list-container">
  <h2>订单列表</h2>

  <!-- 加载状态 -->
  @if (isLoading) {
    <div class="loading">
      <span>正在加载订单...</span>
      <div class="spinner"></div>
    </div>
  }

  <!-- 错误提示 -->
  @else if (errorMessage) {
    <div class="error">
      {{ errorMessage }}
      <button (click)="loadOrders()" class="retry-btn">点击重试</button>
    </div>
  }

  @else if (orders.length === 0) {
    <div class="empty">
      暂无订单数据。
    </div>
  }

  @else {
    <!-- 订单表格 -->
    <table class="order-table">
      <thead>
        <tr>
          <th>订单号</th>
          <th>状态</th>
          <th>金额</th>
          <th>创建日期</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody>
        @for (order of orders; track order.orderNumber) {
          <tr>
            <td>{{ order.orderNumber }}</td>
            <td>
              <span class="status-badge" [ngClass]="getStatusClass(order.status)">
                {{ getStatusText(order.status) }}
   
              </span>
            </td>
            <td>{{ order.amount | currency:'CNY':'symbol':'2.2-2' }}</td>
            <td>{{ order.creationDate | date:'yyyy-MM-dd HH:mm' }}</td>
            <td><a [routerLink]="['/order-detail', order.id]">查看详情</a></td>
          </tr>
        }
      </tbody>
    </table>
  }

</div>